{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/liupeiqi/Desktop/cloudresume/src/Welcome.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport Nav from './Nav';\nimport Amplify, { API, graphqlOperation } from 'aws-amplify';\nimport awsconfig from './aws-exports';\nimport { updateVisitorCount } from './graphql/mutations';\nimport { getVisitorCount } from './graphql/queries';\nAmplify.configure(awsconfig);\n\nfunction Welcome() {\n  _s();\n\n  const [visitors, setVisitors] = useState(0); //Uncommon this in production!!!\n\n  useEffect(() => {\n    fetchAndUpdateVisitors();\n  }, []);\n\n  async function fetchAndUpdateVisitors() {\n    try {\n      const response = await API.graphql(graphqlOperation(getVisitorCount, {\n        id: '1'\n      }));\n      console.log(response);\n      const num = response.data.getVisitorCount.count;\n      await API.graphql(graphqlOperation(updateVisitorCount, {\n        input: {\n          id: '1',\n          count: num + 1\n        }\n      }));\n      setVisitors(num + 1);\n    } catch (err) {\n      console.log(err);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"welcome-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"welcome_title\",\n      children: \"WELCOME TO MY ARTISTIC CLOUD SPACE\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"visitor_dashboard\",\n      children: [\"YOU ARE VISITOR # \", visitors, \" TO MY SITE!\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Nav, {\n      type: \"welcome\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 40,\n    columnNumber: 7\n  }, this);\n}\n\n_s(Welcome, \"CmUe2uoHdV5o5yK+OKUhvQLPrfM=\");\n\n_c = Welcome;\nexport default Welcome;\n\nvar _c;\n\n$RefreshReg$(_c, \"Welcome\");","map":{"version":3,"sources":["/Users/liupeiqi/Desktop/cloudresume/src/Welcome.js"],"names":["React","useState","useEffect","Nav","Amplify","API","graphqlOperation","awsconfig","updateVisitorCount","getVisitorCount","configure","Welcome","visitors","setVisitors","fetchAndUpdateVisitors","response","graphql","id","console","log","num","data","count","input","err"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,EAA0BC,SAA1B,QAA2C,OAA3C;AACA,OAAO,WAAP;AACA,OAAOC,GAAP,MAAgB,OAAhB;AACA,OAAOC,OAAP,IAAkBC,GAAlB,EAAuBC,gBAAvB,QAA+C,aAA/C;AACA,OAAOC,SAAP,MAAsB,eAAtB;AACA,SAASC,kBAAT,QAAmC,qBAAnC;AACA,SAASC,eAAT,QAAgC,mBAAhC;AAGAL,OAAO,CAACM,SAAR,CAAkBH,SAAlB;;AAEA,SAASI,OAAT,GAAkB;AAAA;;AACd,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0BZ,QAAQ,CAAC,CAAD,CAAxC,CADc,CAGd;;AACAC,EAAAA,SAAS,CAAC,MAAM;AACdY,IAAAA,sBAAsB;AACvB,GAFQ,EAEN,EAFM,CAAT;;AAIA,iBAAeA,sBAAf,GAAyC;AACvC,QAAI;AACF,YAAMC,QAAQ,GAAG,MAAMV,GAAG,CAACW,OAAJ,CACrBV,gBAAgB,CAACG,eAAD,EAAkB;AAAEQ,QAAAA,EAAE,EAAE;AAAN,OAAlB,CADK,CAAvB;AAGAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AACA,YAAMK,GAAG,GAAGL,QAAQ,CAACM,IAAT,CAAcZ,eAAd,CAA8Ba,KAA1C;AACA,YAAMjB,GAAG,CAACW,OAAJ,CACJV,gBAAgB,CAACE,kBAAD,EAAqB;AACnCe,QAAAA,KAAK,EAAE;AAAEN,UAAAA,EAAE,EAAE,GAAN;AAAWK,UAAAA,KAAK,EAAEF,GAAG,GAAG;AAAxB;AAD4B,OAArB,CADZ,CAAN;AAKAP,MAAAA,WAAW,CAACO,GAAG,GAAG,CAAP,CAAX;AACD,KAZD,CAYE,OAAOI,GAAP,EAAY;AACZN,MAAAA,OAAO,CAACC,GAAR,CAAYK,GAAZ;AACD;AACF;;AAED,sBAEE;AAAK,IAAA,SAAS,EAAC,cAAf;AAAA,4BACE;AAAG,MAAA,SAAS,EAAC,eAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAG,MAAA,SAAS,EAAC,mBAAb;AAAA,uCACqBZ,QADrB;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF,eAKE,QAAC,GAAD;AAAK,MAAA,IAAI,EAAC;AAAV;AAAA;AAAA;AAAA;AAAA,YALF;AAAA;AAAA;AAAA;AAAA;AAAA,UAFF;AAWH;;GArCQD,O;;KAAAA,O;AAuCT,eAAeA,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport './App.css'\nimport Nav from './Nav'\nimport Amplify, { API, graphqlOperation } from 'aws-amplify'\nimport awsconfig from './aws-exports'\nimport { updateVisitorCount } from './graphql/mutations'\nimport { getVisitorCount } from './graphql/queries'\n\n\nAmplify.configure(awsconfig);\n\nfunction Welcome(){\n    const [visitors, setVisitors] = useState(0)\n\n    //Uncommon this in production!!!\n    useEffect(() => {\n      fetchAndUpdateVisitors()\n    }, [])\n  \n    async function fetchAndUpdateVisitors () {\n      try {\n        const response = await API.graphql(\n          graphqlOperation(getVisitorCount, { id: '1' })\n        )\n        console.log(response)\n        const num = response.data.getVisitorCount.count\n        await API.graphql(\n          graphqlOperation(updateVisitorCount, {\n            input: { id: '1', count: num + 1 }\n          })\n        )\n        setVisitors(num + 1)\n      } catch (err) {\n        console.log(err)\n      }\n    }\n  \n    return (\n      \n      <div className='welcome-page'>\n        <p className='welcome_title'>WELCOME TO MY ARTISTIC CLOUD SPACE</p>\n        <p className='visitor_dashboard'>\n          YOU ARE VISITOR # {visitors} TO MY SITE!\n        </p>\n        <Nav type='welcome'/>\n      </div>\n      \n    )\n}\n\nexport default Welcome;"]},"metadata":{},"sourceType":"module"}